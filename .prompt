#PSGLOBAL="$XTITLE""$C_USER""\u""$C_AMP""@""$C_HOST""\h""$C_COLON"":$C_PWD""\w""$C_GT"">""$NOTHING "
#export PSGLOBAL

#function _git_prompt() {
#    local git_status="`git status -unormal 2>&1`"
#    if ! [[ "$git_status" =~ Not\ a\ git\ repo ]]; then
#        if [[ "$git_status" =~ nothing\ to\ commit ]]; then
#            local ansi=42
#        elif [[ "$git_status" =~ nothing\ added\ to\ commit\ but\ untracked\ files\ present ]]; then
#            local ansi=43
#        else
#            local ansi=45
#        fi
#        if [[ "$git_status" =~ On\ branch\ ([^[:space:]]+) ]]; then
#            branch=${BASH_REMATCH[1]}
#            test "$branch" != master || branch=' '
#        else
#            # Detached HEAD.  (branch=HEAD is a faster alternative.)
#            branch="(`git describe --all --contains --abbrev=4 HEAD 2> /dev/null ||
#                echo HEAD`)"
#        fi
#        echo -n '\[\e[0;37;'"$ansi"';1m\]'"$branch"'\[\e[0m\] '
#    fi
#}

#function _prompt_command() {
#    PS1="`_git_prompt`"$PSGLOBAL
#}

#PROMPT_COMMAND=_prompt_command
#export PROMPT_COMMAND

function _update_ps1() {
    export PS1="$(~/Projects/dotfiles.osx/prompts/powerline-shell/powerline-shell.py $? 2> /dev/null)"
}
export PROMPT_COMMAND="_update_ps1; $PROMPT_COMMAND"
